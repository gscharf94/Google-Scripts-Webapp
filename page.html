<!DOCTYPE html>
<html>
	<head>
		<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500&display=swap" rel="stylesheet">
		<base target="_top">
		<?!= include('styles'); ?>
	</head>
	<body>
		<p>Note: Click once and wait for Google to load the files. Clicking too fast may cause unexpected behavior.</p>
		<h1 id="currentFolderLabel">My Drive</h1>
		<h4 id="parentDirectory" onclick="goUpFolderAction()"><- Back</h4>
		<ul id="fileList">
			<?

				let listHTML = "";
				let data = getRootInfo();

				data['folders'].forEach(
					(folder) => {
						listHTML += `<li class="folderLink" onclick="folderForwardAction('${folder}')">${folder}</li>`;
					}
				);

				data['files'].forEach( 
					(file) => {
						if(`${file}`.slice(-3) == 'csv') {
							listHTML += `<li class="fileLink" onclick="fileSelectionAction('${file}','root','${file.getId()}')">${file}</li>`;
						}
					}
				);
			?>
			<?!= listHTML ?>
		</ul>

		<p id="emptyThing">

		</p>

		<?!= include('scripts'); ?>
	</body>
</html>